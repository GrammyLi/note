性能优化指标 & 如何性能优化

指标: 核心 Web Vitals 是由 Google 提出的衡量网站用户体验的标准，主要包括：
Largest Contentful Paint (LCP)：衡量页面主内容加载完成的时间。
First Input Delay (FID)：衡量用户首次与页面交互到浏览器响应的时间。
Cumulative Layout Shift (CLS)：衡量页面布局稳定性的变化，避免内容跳动。

优化方法：
优化 LCP：提高服务器响应速度，减少 JavaScript 执行时间。
优化 FID：减少阻塞主线程的 JavaScript 代码，提升页面可交互性。
减少 CLS：确保元素大小和位置是稳定的，避免内容突然跳动。

前端性能优化是一项持续的工作，需要从多个方面进行综合考虑。通过对页面加载时间、响应速度、缓存控制等各个指标进行优化，可以大幅提升网站的性能和用户体验。常见的优化方法包括压缩资源、减少请求、使用 CDN、延迟加载等技术，同时也要注重对核心 Web Vitals 的提升，确保用户能够获得更流畅、快速的体验

加载时间（Page Load Time）
指标: 页面从请求开始到完全加载完毕的时间。包括首屏加载时间、首字节时间（TTFB）等。
优化方法:
资源压缩：压缩 HTML、CSS、JavaScript 文件，减少传输大小。
图片优化：使用适当格式的图片（如 WebP），并进行压缩。采用懒加载（Lazy Loading）技术，避免初次加载时加载所有图片。
使用 CDN：将静态资源分发到全球的 CDN 节点，加速文件的加载。
使用 HTTP/2：相较于 HTTP/1，HTTP/2 能有效减少请求和响应的延迟，提高性能。

首屏渲染时间（First Contentful Paint, FCP）
指标: 浏览器开始呈现页面内容的时间，即用户首次看到页面内容的时间。
优化方法:
CSS 和 JS 文件的优化：减少阻塞渲染的 CSS 和 JS，特别是要减少外部样式表和脚本的数量。利用 async 和 defer 属性延迟非关键脚本的加载。
字体加载优化：采用 font-display: swap，使文字在加载字体之前先显示默认字体

交互准备时间（Time to Interactive, TTI）
指标: 页面从加载开始到完全可交互（用户能进行点击、滚动等交互）所需的时间。
优化方法:
减少 JavaScript 执行时间：代码拆分和懒加载，避免一次加载过多的 JS。
Web Worker：将计算密集型的任务转移到后台线程，避免阻塞主线程。

首字节时间（Time to First Byte, TTFB）
指标: 浏览器发起请求到服务器返回第一个字节的时间。
优化方法:
服务器性能：优化后端代码，使用缓存机制，减小数据库查询和处理时间。
优化 DNS 解析：选择可靠的 DNS 服务器，避免 DNS 解析时间过长。
使用更快的 Web 服务器：例如 Nginx 和 LiteSpeed 等。

资源的缓存控制（Cache Control）
指标: 浏览器能有效缓存静态资源（如图片、CSS、JS 等）的时长。
优化方法:
合理设置缓存策略：通过 HTTP 头设置缓存控制策略（如 Cache-Control），使得不常变动的资源（如字体、图片等）在用户设备上缓存较长时间。
版本化静态资源：在文件名中加入 hash 值，以避免用户浏览器使用缓存的过期文件

内存使用情况
指标: 页面加载过程中或用户操作时，内存的占用情况。
优化方法:
避免内存泄漏：及时销毁不再使用的对象或事件监听器，减少不必要的内存占用。
避免频繁的 DOM 操作：将 DOM 操作批量处理，减少不必要的重排和重绘。

页面响应时间
指标: 用户与页面互动时，从输入到页面响应的时间。
优化方法:
减少渲染线程的负载：使用 CSS 代替 JavaScript 来完成动画和过渡效果，避免 JavaScript 阻塞页面渲染。
使用虚拟化技术：对长列表或复杂 DOM 结构进行虚拟化（例如，React 的 react-virtualized），减少 DOM 节点的数量，提高响应速度。

网络请求数
指标: 页面加载时发起的 HTTP 请求数。
优化方法:
合并资源文件：将多个 CSS 文件、JS 文件合并成一个文件，减少请求数。
图片精灵（Sprite）：将多个小图片合并成一个大图片，减少图片请求数。

Lazy Load（懒加载）
指标: 只在需要时加载资源，避免一开始加载过多资源。
优化方法:
懒加载图片和视频：采用 IntersectionObserver 或 loading="lazy" 属性来实现图片懒加载。
懒加载非关键资源：例如，延迟加载非首屏内容的 JS 和 CSS
